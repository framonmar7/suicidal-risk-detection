(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{241:(e,r,t)=>{"use strict";t.d(r,{DetectorPage:()=>Y});var s=t(5155),n=t(2115);class a extends Error{constructor(e,r){super(e),this.name="ApiError",this.status=r}}async function i(e){try{let r=await fetch("/api/detect/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:e})});if(!r.ok)throw Error("API request failed with status ".concat(r.status));return await r.json()}catch(e){if(e instanceof Error)throw new a(e.message);throw new a("Unknown error occurred")}}async function l(e){try{let r=await i(e);return function(e){let r="RISK"===e.label,t=Math.round(100*e.score);return{isAtRisk:r,confidence:t,reasoning:function(e,r){var t;let s=(t=r)>=90?"Very High":t>=75?"High":t>=60?"Moderate":t>=40?"Low":"Very Low";return"".concat(e?"The AI model identified signs of potential suicidal ideation or emotional crisis in this message.":"The AI model did not detect indications of suicidal risk in this message."," Confidence level: ").concat(s," (").concat(r,"%).")}(r,t),category:r?"Potential Risk":"No Risk Detected"}}(r)}catch(e){return{isAtRisk:!1,confidence:0,reasoning:"Analysis failed: ".concat(e instanceof Error?e.message:"Unknown error"),category:"Error"}}}var o=t(5525);function c(){return(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,s.jsx)(o.A,{className:"h-8 w-8 text-red-600"}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"AI Suicide Risk Detection"})]}),(0,s.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"This system uses advanced natural language processing to detect signs of emotional crisis and potential suicide risk. It supports early intervention by identifying high-risk messages with high sensitivity and contextual awareness."})]})}var d=t(2713),u=t(646),m=t(9376),x=t(2596),f=t(9688);function g(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,f.QP)((0,x.$)(r))}let h=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});h.displayName="Card";let p=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("flex flex-col space-y-1.5 p-6",t),...n})});p.displayName="CardHeader";let v=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("text-2xl font-semibold leading-none tracking-tight",t),...n})});v.displayName="CardTitle";let y=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("text-sm text-muted-foreground",t),...n})});y.displayName="CardDescription";let j=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("p-6 pt-0",t),...n})});function b(e){let{icon:r,value:t,label:n,iconColor:a}=e;return(0,s.jsx)(h,{children:(0,s.jsx)(j,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r,{className:"h-8 w-8 ".concat(a)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:n})]})]})})})}j.displayName="CardContent",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter";let N={totalAnalyzed:25822,precisionRate:96.11,f1Score:96.24};function w(){return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsx)(b,{icon:d.A,value:N.totalAnalyzed.toLocaleString(),label:"Comments Analyzed",iconColor:"text-green-600"}),(0,s.jsx)(b,{icon:u.A,value:"".concat(N.precisionRate,"%"),label:"Precision Rate",iconColor:"text-blue-600"}),(0,s.jsx)(b,{icon:m.A,value:"".concat(N.f1Score,"%"),label:"F1-Score",iconColor:"text-purple-600"})]})}let A=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("textarea",{className:g("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n})});A.displayName="Textarea";var k=t(4624),R=t(2085);let C=(0,R.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=n.forwardRef((e,r)=>{let{className:t,variant:n,size:a,asChild:i=!1,...l}=e,o=i?k.DX:"button";return(0,s.jsx)(o,{className:g(C({variant:n,size:a,className:t})),ref:r,...l})});I.displayName="Button";var E=t(968);let T=(0,R.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)(E.b,{ref:r,className:g(T(),t),...n})});S.displayName=E.b.displayName;let z=["I had a great day today. Things are finally starting to look up.","Lately I’ve been feeling disconnected from everything and everyone.","I’m not sure how much longer I can keep pretending I’m fine.","Nothing brings me joy anymore."];function D(e){let{onSelectExample:r}=e;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S,{className:"text-sm font-medium",children:"Try these examples:"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2",children:z.map((e,t)=>(0,s.jsx)(I,{variant:"outline",size:"sm",onClick:()=>r(e),className:"justify-start text-left h-auto p-3 whitespace-normal",children:e},t))})]})}function _(e){let{comment:r,onCommentChange:t,onAnalyze:n,isAnalyzing:a}=e;return(0,s.jsxs)(h,{children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(v,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"h-5 w-5"}),"Test the Model"]}),(0,s.jsx)(y,{children:"Enter a comment below to analyze it with the live AI model."})]}),(0,s.jsxs)(j,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(S,{htmlFor:"comment",children:"Comment to Analyze"}),(0,s.jsx)(A,{id:"comment",placeholder:"Type your comment here...",value:r,onChange:e=>t(e.target.value),className:"min-h-[120px] mt-2"})]}),(0,s.jsx)(I,{onClick:n,disabled:!r.trim()||a,className:"w-full",children:a?"Analyzing with AI...":"Analyze with AI Model"}),(0,s.jsx)(D,{onSelectExample:t})]})]})}function F(){return(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Analyzing comment..."})]})}function L(){return(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)(m.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:'Enter a comment and click "Analyze" to see results'})]})}let O=(0,R.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),P=n.forwardRef((e,r)=>{let{className:t,variant:n,...a}=e;return(0,s.jsx)("div",{ref:r,role:"alert",className:g(O({variant:n}),t),...a})});P.displayName="Alert",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("h5",{ref:r,className:g("mb-1 font-medium leading-none tracking-tight",t),...n})}).displayName="AlertTitle";let M=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("div",{ref:r,className:g("text-sm [&_p]:leading-relaxed",t),...n})});M.displayName="AlertDescription";let K=(0,R.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function V(e){let{className:r,variant:t,...n}=e;return(0,s.jsx)("div",{className:g(K({variant:t}),r),...n})}var H=t(4861),U=t(1243);function X(e){let{result:r}=e;if("Error"===r.category)return(0,s.jsxs)(P,{className:"border-red-200 bg-red-50",children:[(0,s.jsx)(H.A,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)(M,{className:"text-red-800",children:r.reasoning})]});let t=r.isAtRisk,n=t?U.A:u.A;return(0,s.jsxs)(P,{className:t?"border-red-200 bg-red-50":"border-green-200 bg-green-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n,{className:"h-4 w-4 ".concat(t?"text-red-600":"text-green-600")}),(0,s.jsx)(V,{variant:t?"destructive":"default",children:r.category})]}),(0,s.jsx)(M,{className:"mt-2",children:r.reasoning})]})}var q=t(9104);let B=n.forwardRef((e,r)=>{let{className:t,value:n,...a}=e;return(0,s.jsx)(q.bL,{ref:r,className:g("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:(0,s.jsx)(q.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});function J(e){let{confidence:r,isAtRisk:t}=e;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(S,{className:"text-sm font-medium",children:"Confidence Score"}),(0,s.jsxs)("span",{className:"text-sm font-bold",children:[r,"%"]})]}),(0,s.jsx)(B,{value:r,className:"h-3 ".concat(t?"bg-red-100":"bg-green-100")}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Higher scores indicate stronger model confidence in detecting risk of emotional crisis"})]})}function Q(e){let{isAtRisk:r}=e;return(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Model Decision:"}),(0,s.jsx)("p",{className:"font-bold ".concat(r?"text-red-600":"text-green-600"),children:r?"RISK OF SUICIDAL IDEATION DETECTED":"NO RISK DETECTED"})]})}function W(e){let{error:r}=e;return(0,s.jsxs)(P,{className:"border-red-200 bg-red-50",children:[(0,s.jsx)(U.A,{className:"h-4 w-4 text-red-600"}),(0,s.jsxs)(M,{className:"text-red-800",children:[(0,s.jsx)("strong",{children:"Error:"})," ",r]})]})}function $(e){let{result:r,isAnalyzing:t,error:n}=e;return(0,s.jsxs)(h,{children:[(0,s.jsxs)(p,{children:[(0,s.jsxs)(v,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"h-5 w-5"}),"Analysis Results"]}),(0,s.jsx)(y,{children:"Real-time suicide risk classification with confidence scoring."})]}),(0,s.jsxs)(j,{children:[n&&(0,s.jsx)(W,{error:n}),!r&&!t&&!n&&(0,s.jsx)(L,{}),t&&(0,s.jsx)(F,{}),r&&"Error"!==r.category&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(X,{result:r}),(0,s.jsx)(J,{confidence:r.confidence,isAtRisk:r.isAtRisk}),(0,s.jsx)(Q,{isAtRisk:r.isAtRisk})]}),r&&"Error"===r.category&&(0,s.jsx)(X,{result:r})]})]})}function G(){return(0,s.jsx)(h,{className:"mt-8",children:(0,s.jsx)(j,{className:"p-6",children:(0,s.jsxs)(P,{children:[(0,s.jsx)(U.A,{className:"h-4 w-4"}),(0,s.jsxs)(M,{children:[(0,s.jsx)("strong",{children:"Live AI Model:"})," This application connects to a real machine learning model. Results are generated by an AI system trained to detect signs of suicidal ideation or emotional crisis. The API returns binary labels (RISK/NO_RISK) along with confidence scores (0–1).",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"While the model demonstrates strong performance on a validated test set using cross-validation, its accuracy may vary in real-world scenarios. This tool must be used under human supervision and should ",(0,s.jsx)("strong",{children:"never replace clinical judgment or emergency services"}),"."]})]})})})}function Y(){let{result:e,isAnalyzing:r,comment:t,error:a,analyze:i,updateComment:o}=function(){let[e,r]=(0,n.useState)(null),[t,s]=(0,n.useState)(!1),[a,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(null),d=async()=>{if(a.trim()){s(!0),c(null);try{let e=await l(a);r(e)}catch(e){c(e instanceof Error?e.message:"Analysis failed"),r(null)}finally{s(!1)}}};return{result:e,isAnalyzing:t,comment:a,error:o,analyze:d,updateComment:t=>{i(t),e&&r(null),o&&c(null)}}}();return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)(c,{}),(0,s.jsx)(w,{}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsx)(_,{comment:t,onCommentChange:o,onAnalyze:i,isAnalyzing:r}),(0,s.jsx)($,{result:e,isAnalyzing:r,error:a})]}),(0,s.jsx)(G,{})]})})}B.displayName=q.bL.displayName},8049:(e,r,t)=>{Promise.resolve().then(t.bind(t,241))}},e=>{var r=r=>e(e.s=r);e.O(0,[891,441,684,358],()=>r(8049)),_N_E=e.O()}]);